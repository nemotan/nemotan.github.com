---
layout: post
title: linux shell sed遍历文件并且批量替换
categories:
- shell
tags:
- shell
---

```bash
	
	#/bin/bash
  2 #把文件中所有的字符串替换,前面为啥加“”：http://blog.csdn.net/loveaborn/article/details/41706029
  3 IMG_FILES=`grep /Users/nemo/07blog/imgs -rl ./_posts`
  4 if [ -n "${IMG_FILES}" ];
  5         then
  6                 sed -i "" "s//Users/nemo/07blog/imgs/\/Users\/nemo\/07blog\/imgs/g" ${IMG_FILES}
  7         else
  8                 echo "无文件需要替换图片!"
  9 fi
 10
 11 #显示所有的macdown代码高亮
 12 LANGURAGE_ARR=(java bash js sql)
 13 for LANG in ${LANGURAGE_ARR[@]}
 14         do       FILES=`grep -n "{% highlight ${LANG} %}" -rl ./_posts`
 15                  if [ -n "$FILES" ];
 16                         then
 17                                 sed -i "" "s/{% highlight ${LANG} %}/\`\`\`${LANG}/g" ${FILES}
 18                         else
 19                                 echo "${LANG}没有需要替换的文件"
 20                  fi
 21         done
 22 #替换结束符
 23 END_FILES=`grep -n "```" -rl ./_posts`
 24 if [ -n "${END_FILES}" ];
 25         then
 26                 sed -i "" "s/```/\`\`\`/g" ${END_FILES}
 27         else
 28                 echo "end
 
